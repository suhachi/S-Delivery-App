# 최종 QA 시나리오 및 승인 선언 체크리스트

이 문서는 프로젝트의 최종 승인(Go-Live)을 위해 반드시 통과해야 하는 QA 시나리오와 체크리스트를 정의합니다.

## 1. QA 시나리오 (사용자 흐름 중심)

### 시나리오 1: 신규 고객 주문 흐름 (Happy Path)
*   **목표:** 신규 가입부터 주문 완료, 상세 조회까지 끊김 없는 경험 확인.
*   **단계:**
    1.  인트로 화면(`WelcomePage`)에서 '주문하기' 클릭하여 로그인 페이지 이동.
    2.  '회원가입' 버튼 클릭 후 이메일/비밀번호로 계정 생성.
    3.  로그인 성공 후 인트로 화면을 거쳐 메뉴 목록(`MenuPage`) 진입.
    4.  메뉴 클릭 -> 옵션(맵기, 사이즈 등) 선택 -> '장바구니 담기'.
    5.  장바구니(`Cart`)에서 수량 변경 확인 후 '주문하기' 클릭.
    6.  주문서(`CheckoutPage`)에서 주소/요청사항 입력 후 최종 결제 클릭.
    7.  주문 완료 메시지 확인 후 '주문 내역 보기' 클릭.
    8.  `OrdersPage` 리스트에 방금 주문한 건이 '접수대기' 상태로 표시되는지 확인.
    9.  카드 클릭하여 `OrderDetailPage`에서 옵션 및 금액 정확성 확인.

### 시나리오 2: 재방문 고객 & 쿠폰 사용
*   **목표:** 쿠폰 적용 및 마이페이지 통합 확인.
*   **단계:**
    1.  기존 계정으로 로그인.
    2.  마이페이지(`MyPage`) 진입하여 '쿠폰함' 확인 (관리자가 발급한 쿠폰 존재 여부).
    3.  메뉴 담기 후 결제 화면 진입.
    4.  '쿠폰 적용' 드롭다운에서 쿠폰 선택.
    5.  총 결제 금액에서 쿠폰 할인액이 즉시 차감되는지 확인.
    6.  주문 완료 후 마이페이지 재진입 -> 사용한 쿠폰이 목록에서 사라지거나 '사용됨' 처리되었는지 확인.

### 시나리오 3: 공지 및 이벤트 정보 확인
*   **목표:** 공개 데이터(Public Data) 조회 정확성 확인.
*   **단계:**
    1.  상단 헤더의 '알림(Notice)' 아이콘 클릭 -> 공지사항 팝업/목록 확인.
    2.  중요(Pinned) 공지가 최상단에 배경색과 함께 노출되는지 확인.
    3.  메인 화면 배너(Carousel)에서 '진행 중인 이벤트' 클릭 -> 이벤트 상세 페이지 이동.
    4.  이벤트 기간 및 내용이 정상 출력되는지 확인.

### 시나리오 4: 관리자 주문 처리 (운영자 흐름)
*   **목표:** 고객 주문을 실시간으로 확인하고 상태를 변경.
*   **단계:**
    1.  `/admin` 경로로 관리자 로그인.
    2.  대시보드(`AdminDashboard`)에서 '신규 주문' 알림(또는 숫자 배지) 확인.
    3.  주문 관리 탭에서 새로운 주문 상세 보기.
    4.  상태 변경: '접수' -> '조리중' -> '배달중' -> '완료'.
    5.  각 단계마다 고객 앱(`OrdersPage`)에서도 상태 텍스트와 배지 색상이 실시간(또는 새로고침 시) 변경되는지 교차 검증.

### 시나리오 5: 관리자 데이터 생성 및 반영
*   **목표:** 관리자 CMS 기능 작동 확인.
*   **단계:**
    1.  관리자 > 메뉴 관리: 신규 메뉴 등록 (이미지 업로드 포함). 고객 앱 메뉴판에 즉시 노출 확인.
    2.  관리자 > 이벤트 관리: 시작일/종료일 설정하여 새 이벤트 등록. 고객 앱 배너 반영 확인.
    3.  관리자 > 쿠폰 관리: '전체 고객 대상' 쿠폰 발행. 고객 마이페이지 쿠폰함 반영 확인.

---

## 2. QA 체크리스트

| ID | 구분 | 점검 항목 | 통과 여부 |
|:---:|:---:|:---|:---:|
| QA-01 | **인증** | 신규 회원가입 및 로그인이 오류 없이 수행되는가? | [ ] |
| QA-02 | **인증** | 로그아웃 후 뒤로가기 시 보안 페이지(주문내역 등) 접근이 차단되는가? | [ ] |
| QA-03 | **메뉴** | 메뉴 목록이 로딩 스피너 이후 정상적으로 렌더링되는가? | [ ] |
| QA-04 | **주문** | 옵션 가격이 포함된 총 주문 금액이 1원 단위까지 정확한가? | [ ] |
| QA-05 | **주문** | 결제(DB 저장) 시 `userId`, `storeId`가 누락되지 않고 저장되는가? | [ ] |
| QA-06 | **내역** | `OrdersPage`에서 '접수' 상태부터 '완료' 상태까지 필터링이 잘 되는가? | [ ] |
| QA-07 | **내역** | **CRITICAL:** 주문 내역 진입 시 "인덱스 필요(Index required)" 오류가 발생하지 않는가? | [ ] |
| QA-08 | **관리자** | 관리자 대시보드 그래프 및 통계가 데이터 로딩 실패 없이 뜨는가? | [ ] |
| QA-09 | **관리자** | 주문 상태 변경 버튼 클릭 시 Optimistic UI 또는 로딩 후 즉시 반영되는가? | [ ] |
| QA-10 | **UI** | 모바일 뷰포트(375px~)에서 레이아웃 깨짐이 없는가? | [ ] |

---

## 3. 최종 승인 선언 조건 (Go-Live Criteria)

이 프로젝트를 베타 오픈 또는 운영 환경으로 배포하기 위한 최소 조건입니다.

1.  **핵심 플로우 무결성:** 위 QA 시나리오 1, 4(주문-접수 사이클)가 3회 연속 에러 없이 통과되어야 한다.
2.  **데이터베이스 인덱스 완비:** Firebase Console 로그에 `Missing index` 경고가 단 한 건도 남지 않아야 한다. (`src/firestore.indexes.json` 배포 완료)
3.  **보안 규칙 적용:** `firestore.rules`가 배포되어 있으며, 비로그인 유저가 `/orders` 컬렉션을 조회할 수 없어야 한다.
4.  **빌드 안정성:** `npm run build` 명령이 `Typescript` 에러 없이 성공적으로 `dist` 폴더를 생성해야 한다.
5.  **주요 리소스 로딩:** 앱 초기 구동 시 흰 화면(White Screen) 상태가 3초 이상 지속되지 않아야 한다(로딩 인디케이터 표시 필수).

---

## 4. 문서 연동 및 관리
*   이 문서는 `docs/FINAL_QA_AND_GO_LIVE_CHECKLIST.md`에 위치합니다.
*   기존 분석 보고서인 `PROJECT_STATUS_REPORT_AND_ROADMAP.md`의 "최종 승인 로드맵" 섹션에서 이 문서를 참조하도록 합니다.
